{% extends 'uw_inventory/item_base.html' %}
{% load uw_inventory_form_tags %}

{% block page_heading %}New Inventory Item{% endblock page_heading %}

{% block page_body %}
  {% add_form form %}
{% endblock page_body %}

{% block js_includes %}
  {{ block.super }}

  <script type="text/javascript">
    {# It's easier to hide the empty paragraph using jQuery than removing it in Django #}
    $('p.form-control-static').addClass('hidden')

    var onChangeHandler = function(event){
      {# Empty values aren't considered 'changes' #}
      if(event.target.value === ''){
        pageDirty = false;
      } else{
        pageDirty = true;
      }
    }

    $('select').change(onChangeHandler);
    $('input').change(onChangeHandler);
    $('textarea').change(onChangeHandler);
    {# Checkboxes don't count yet #}
  </script>
{% endblock js_includes %}